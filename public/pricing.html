<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prijzen — GuardianLay</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header>
    <h1>Onze pakketten</h1>
    <p>Kies het pakket dat bij jouw website past.</p>
  </header>

  <main style="display:flex;gap:20px;justify-content:center;flex-wrap:wrap;">
    <!-- Gratis -->
    <div class="card">
      <h2>Gratis Scan</h2>
      <p>Direct inzicht in je website risico’s.</p>
      <h3>€0</h3>
      <button onclick="location.href='/'">Start gratis</button>
    </div>

    <!-- Quick Fix -->
    <div class="card">
      <h2>Quick Fix Rapport</h2>
      <p>Volledig rapport + aanbevolen fixes.</p>
      <h3>€49 eenmalig</h3>
      <button onclick="checkout('price_quickfix')">Koop nu</button>
    </div>

    <!-- Abonnement -->
    <div class="card">
      <h2>Abonnement</h2>
      <p>Maandelijkse scans & automatische alerts.</p>
      <h3>€19 / maand</h3>
      <button onclick="checkout('price_subscription')">Abonneer</button>
    </div>
  </main>

  <script>
    async function checkout(priceId) {
      const res = await fetch('/api/checkout', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ priceId })
      });
      const data = await res.json();
      if (data.url) {
        window.location.href = data.url;
      } else {
        alert('Er ging iets mis bij het starten van de betaling.');
      }
    }
  </script>
</body>
</html>
